syntax = "proto3";

option csharp_namespace = "GameDevsConnect.Backend.API.File.Services";

package file;

service FileProtoService
{
	rpc GetIdsByOwnerId(IdRequest) returns (GetIdsResponse);
	rpc GetById(IdRequest) returns (GetByIdResponse);
	rpc Add(UpsertFileRequest) returns (AddResponse);
	rpc Update(UpsertFileRequest) returns (Response);
	rpc Delete(IdRequest) returns (Response);
}

message File
{
	string id = 1;
	string url = 2;
	string type = 3;
	string extension = 4;
	int32 size = 5;
	string created = 6;
	string ownerId = 7;
}

// Requests

message IdRequest
{
	string id = 1;
}

message UpsertFileRequest
{
	File file = 1;
}

// Responses

message Response
{
	string message = 1;
	bool status = 2;
	repeated string errors = 3;
}

message AddResponse
{
	Response response = 1;
	string id = 2;
}

message GetIdsResponse
{
	Response response = 1;
	repeated string ids = 2;
}

message GetByIdResponse
{
	Response response = 1;
	File file = 2;
}